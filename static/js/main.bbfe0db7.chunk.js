(this["webpackJsonptemplate-editor"]=this["webpackJsonptemplate-editor"]||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),i=a.n(r),l=(a(55),a(56),a(12)),s=a.n(l),o=a(3),m=a(49),u=a(118),d=a(40),b=a(41),p=a.n(b),g=a(17),h=a.n(g),f=a(22),v=a.n(f),E=a(13),O=a(42),j=a.n(O),y=a(23),w=a(43),S=a.n(w),N=a(44),x=a(48),C=a(45),k=a.n(C),H=a(18),L=(a(106),a(107),a(108),a(109),a(110),a(111),a(112),a(113),a(47)),T=a.n(L);h.a.registerHelper("json",(function(e){return new h.a.SafeString(JSON.stringify(e))}));var P=new d.Liquid({cache:!0}),z=[{value:"html",label:"HTML"},{value:"handlebars",label:"Handlebars"},{value:"liquid",label:"Liquid"}];function J(e){var t=e.html,a=e.data;switch(e.engine){case"handlebars":return h.a.compile(t)(a);case"liquid":return P.parseAndRenderSync(t,a);default:return t}}function q(e){var t=e.html,a=e.css,n=e.data,c=e.engine,r=e.compile,i=void 0!==r&&r,l=n.settings&&n.settings.title||"Template",s=n.settings&&n.settings.favicon,o=n.settings&&n.settings.description||"".concat(c," template"),m=i?J({html:t,data:n,engine:c}):t;return'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n\n    '.concat(s?'<link rel="icon" href="'.concat(s,'" />'):"","\n    ").concat(o?'<meta name="description" content="'.concat(o,'" />'):"","\n\n    <title>").concat(l,"</title>\n\n    <style type='text/css'>\n      * {\n        box-sizing: border-box;\n      }\n\n      body, html {\n        height: 100%;\n        padding: 0;\n        margin: 0;\n      }\n    </style>\n\n    <style type='text/css'>\n      ").concat(a,"\n    </style>\n  </head>\n\n  <body>\n    ").concat(m,"\n  </body>\n</html>\n")}var A=function(e){var t=e.label,a=e.mode,n=Object(m.a)(e,["label","mode"]);return c.a.createElement("div",{className:"Editor"},c.a.createElement("div",{className:"Editor-title"},t),c.a.createElement(j.a,Object.assign({mode:a,theme:"monokai",name:"".concat(a.toUpperCase(),"Editor"),height:"100%",width:"100%",wrapEnabled:!0,setOptions:{tabSize:2,useSoftTabs:!0}},n)))},B=function(e){var t=e.children,a=e.onClick,r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],m=i[1];return c.a.createElement("button",{className:"Button",style:{opacity:l?.8:1},disabled:l,onClick:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,s.a.awrap(Promise.resolve(a()));case 3:m(!1);case 4:case"end":return e.stop()}}))}},c.a.createElement("span",{style:{opacity:l?0:1}},t),c.a.createElement("span",{className:"Button-spinner"},l&&c.a.createElement(k.a,{size:16,color:"white"})))},M=function(e){var t=e.html,a=e.css,r=e.data,i=e.engine,l=Object(u.a)(t,500),s=Object(o.a)(l,1)[0],m=Object(u.a)(r,500),d=Object(o.a)(m,1)[0],b=Object(u.a)(i,500),p=Object(o.a)(b,1)[0],g=Object(n.useState)((function(){try{return J({html:t,data:r,engine:i})}catch(e){return console.warn("Error compiling template; using raw HTML",e),t}})),h=Object(o.a)(g,2),f=h[0],v=h[1];return Object(n.useEffect)((function(){try{var e=J({html:s,data:d,engine:p});v(e)}catch(t){console.warn("Error compiling template; using raw HTML",t),v(s)}}),[s,d,p]),c.a.createElement("div",{className:"Preview"},c.a.createElement("div",{className:"Preview-item"},c.a.createElement("div",{className:"Preview-title"},"Preview"),c.a.createElement(S.a,{className:"Preview-frame",head:c.a.createElement(c.a.Fragment,null,c.a.createElement("style",{type:"text/css"},"\n* {\nbox-sizing: border-box;\n}\nbody, html, .frame-root, .frame-content, .frame-content > div {\n  height: 100%;\n  padding: 0;\n  margin: 0;\n}\n"),c.a.createElement("style",{type:"text/css"},a))},c.a.createElement(N.a,{html:f}))))},W=p()((function(e,t){return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:Object(E.writeStorage)(t,e);case 1:case"end":return a.stop()}}))}),1e3,{maxWait:5e3}),_=function(){var e=Object(E.useLocalStorage)("html"),t=Object(o.a)(e,1)[0],a=Object(E.useLocalStorage)("css"),r=Object(o.a)(a,1)[0],i=Object(E.useLocalStorage)("data"),l=Object(o.a)(i,1)[0],m=Object(E.useLocalStorage)("engine"),u=Object(o.a)(m,1)[0],d=Object(n.useState)(t||'<div class="body">\n  <h1>{{title}}</h1>\n</div>\n'),b=Object(o.a)(d,2),p=b[0],g=b[1],h=Object(n.useState)(r||'.body {\n  align-items: center;\n  background-image: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.50) 100%), url("https://source.unsplash.com/WLUHO9A_xik");\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-origin: center;\n  color: white;\n  display: flex;\n  font-family: Arial;\n  height: 100%;\n  flex-direction: column;\n  justify-content: center;\n}\n\nh1 {\n  font-size: 96px;\n  font-weight: 700;\n  margin: 0;\n}\n'),f=Object(o.a)(h,2),O=f[0],j=f[1],w=Object(n.useState)(l||{title:"Hello, World!"}),S=Object(o.a)(w,2),N=S[0],C=S[1],k=Object(n.useState)(JSON.stringify(N,null,2)),L=Object(o.a)(k,2),P=L[0],J=L[1],_=Object(n.useState)(u||"handlebars"),D=Object(o.a)(_,2),G=D[0],U=D[1],F=Object(n.useCallback)((function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v()(q({html:p,css:O,data:N,engine:G,compile:!1})).then((function(){H.b.info("Copied ".concat(G," template to clipboard"))})));case 1:case"end":return e.stop()}}))}),[p,O,N,G]),I=Object(n.useCallback)((function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v()(q({html:p,css:O,data:N,engine:G,compile:!0})).then((function(){H.b.info("\ufe0fCopied output to clipboard")})));case 1:case"end":return e.stop()}}))}),[p,O,N,G]);Object(n.useEffect)((function(){W(p,"html")}),[p]),Object(n.useEffect)((function(){W(O,"css")}),[O]),Object(n.useEffect)((function(){W(N,"data")}),[N]),Object(n.useEffect)((function(){W(G,"engine")}),[G]),console.log(G);var R=z.find((function(e){return e.value===G}));return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"Header"},c.a.createElement("div",{className:"Header-logo"},c.a.createElement("a",{href:"https://github.com/saasify-sh/template-editor",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:T.a,alt:"Logo"})),c.a.createElement("div",{className:"Header-logoProduct"},"Template Editor")),c.a.createElement("div",{className:"Header-actions"},c.a.createElement("div",{className:"Header-action"},c.a.createElement("a",{href:"https://github.com/saasify-sh/template-editor",target:"_blank",rel:"noopener noreferrer"},"GitHub")),c.a.createElement("div",{className:"Header-action"},c.a.createElement(B,{onClick:F},"Copy Template")),c.a.createElement("div",{className:"Header-action"},c.a.createElement(B,{onClick:I},"Copy Output")),c.a.createElement("div",{className:"Header-action"},c.a.createElement(x.a,{className:"Header-engines",name:"Template Engine",value:R,onChange:function(e){return U(e.value)},options:z})))),c.a.createElement(H.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),c.a.createElement("main",{className:"Main"},c.a.createElement("section",{style:{height:"100%",position:"relative",flexGrow:1}},c.a.createElement(y.a,{defaultSize:"66.7%",split:"vertical"},c.a.createElement(y.a,{defaultSize:"50%",split:"vertical",primary:"second"},c.a.createElement(A,{label:R.label,mode:G,onChange:g,value:p}),c.a.createElement(A,{label:"CSS",mode:"css",onChange:j,value:O})),c.a.createElement(A,{label:"Data",mode:"json",onChange:function(e){try{C(JSON.parse(e)),J(e)}catch(t){console.warn("Error parsing JSON")}},value:P}))),c.a.createElement(M,{html:p,css:O,data:N,engine:G})))};i.a.render(c.a.createElement(_,null),document.getElementById("root"))},47:function(e,t,a){e.exports=a.p+"static/media/logo.e148643a.svg"},50:function(e,t,a){e.exports=a(114)},56:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.bbfe0db7.chunk.js.map