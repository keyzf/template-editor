{"version":3,"sources":["App.js","html-example.js","css-example.js","index.js","logo.svg"],"names":["handlebars","registerHelper","obj","SafeString","JSON","stringify","liquid","Liquid","cache","engines","value","label","compile","html","data","engine","parseAndRenderSync","render","css","shouldCompile","title","settings","favicon","description","body","Editor","mode","props","className","theme","name","toUpperCase","height","width","wrapEnabled","setOptions","tabSize","useSoftTabs","Button","children","onClick","useState","loading","setLoading","style","opacity","disabled","a","async","Promise","resolve","size","color","Preview","useDebounce","debouncedHtml","debouncedData","debouncedEngine","err","console","warn","compiledHtml","setCompiledHtml","useEffect","compiled","head","type","debouncedWriteStorage","debounce","writeStorage","maxWait","App","useLocalStorage","storedHtml","storedCss","storedData","storedEngine","setHtml","setCss","setData","dataJson","setDataJson","setEngine","copyTemplate","useCallback","copy","then","toast","info","copyOutput","log","currentEngine","find","e","href","target","rel","src","logo","alt","onChange","val","options","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","pauseOnVisibilityChange","draggable","pauseOnHover","flexGrow","defaultSize","split","primary","parse","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bbfe0db7.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport { useDebounce } from 'use-debounce'\nimport { Liquid } from 'liquidjs'\n\nimport debounce from 'lodash.debounce'\nimport handlebars from 'handlebars'\nimport copy from 'clipboard-copy'\n\nimport { writeStorage, useLocalStorage } from '@rehooks/local-storage'\nimport AceEditor from 'react-ace'\nimport SplitPane from 'react-split-pane'\nimport Frame from 'react-frame-component'\nimport InnerHTML from 'dangerously-set-html-content'\nimport Select from 'react-select'\nimport ClipLoader from 'react-spinners/ClipLoader'\nimport { ToastContainer, toast } from 'react-toastify'\n\nimport 'react-toastify/dist/ReactToastify.css'\nimport 'ace-builds/src-noconflict/mode-html'\nimport 'ace-builds/src-noconflict/mode-handlebars'\nimport 'ace-builds/src-noconflict/mode-liquid'\nimport 'ace-builds/src-noconflict/mode-css'\nimport 'ace-builds/src-noconflict/mode-json'\nimport 'ace-builds/src-noconflict/theme-monokai'\n\nimport './App.css'\n\nimport htmlExample from './html-example'\nimport cssExample from './css-example'\nimport logo from './logo.svg'\n\nhandlebars.registerHelper('json', function(obj) {\n  return new handlebars.SafeString(JSON.stringify(obj))\n})\n\nconst liquid = new Liquid({ cache: true })\n\nconst engines = [\n  { value: 'html', label: 'HTML' },\n  { value: 'handlebars', label: 'Handlebars' },\n  { value: 'liquid', label: 'Liquid' }\n]\n\nfunction compile({ html, data, engine }) {\n  switch (engine) {\n    case 'handlebars':\n      return handlebars.compile(html)(data)\n    case 'liquid':\n      return liquid.parseAndRenderSync(html, data)\n    default:\n      return html\n  }\n}\n\nfunction render({ html, css, data, engine, compile: shouldCompile = false }) {\n  const title = (data.settings && data.settings.title) || 'Template'\n  const favicon = data.settings && data.settings.favicon\n  const description =\n    (data.settings && data.settings.description) || `${engine} template`\n  const body = shouldCompile ? compile({ html, data, engine }) : html\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n    ${favicon ? `<link rel=\"icon\" href=\"${favicon}\" />` : ''}\n    ${description ? `<meta name=\"description\" content=\"${description}\" />` : ''}\n\n    <title>${title}</title>\n\n    <style type='text/css'>\n      * {\n        box-sizing: border-box;\n      }\n\n      body, html {\n        height: 100%;\n        padding: 0;\n        margin: 0;\n      }\n    </style>\n\n    <style type='text/css'>\n      ${css}\n    </style>\n  </head>\n\n  <body>\n    ${body}\n  </body>\n</html>\n`\n}\n\nconst Editor = ({ label, mode, ...props }) => (\n  <div className='Editor'>\n    <div className='Editor-title'>{label}</div>\n\n    <AceEditor\n      mode={mode}\n      theme='monokai'\n      name={`${mode.toUpperCase()}Editor`}\n      height='100%'\n      width='100%'\n      wrapEnabled\n      setOptions={{\n        tabSize: 2,\n        useSoftTabs: true\n      }}\n      {...props}\n    />\n  </div>\n)\n\nconst Button = ({ children, onClick }) => {\n  const [loading, setLoading] = useState(false)\n\n  return (\n    <button\n      className='Button'\n      style={{ opacity: loading ? 0.8 : 1 }}\n      disabled={loading}\n      onClick={async () => {\n        setLoading(true)\n        await Promise.resolve(onClick())\n        setLoading(false)\n      }}\n    >\n      <span style={{ opacity: loading ? 0 : 1 }}>{children}</span>\n      <span className='Button-spinner'>\n        {loading && <ClipLoader size={16} color='white' />}\n      </span>\n    </button>\n  )\n}\n\nconst Preview = ({ html, css, data, engine }) => {\n  const [debouncedHtml] = useDebounce(html, 500)\n  const [debouncedData] = useDebounce(data, 500)\n  const [debouncedEngine] = useDebounce(engine, 500)\n\n  const [compiledHtml, setCompiledHtml] = useState(() => {\n    try {\n      return compile({ html, data, engine })\n    } catch (err) {\n      console.warn('Error compiling template; using raw HTML', err)\n\n      return html\n    }\n  })\n\n  useEffect(() => {\n    try {\n      const compiled = compile({\n        html: debouncedHtml,\n        data: debouncedData,\n        engine: debouncedEngine\n      })\n\n      setCompiledHtml(compiled)\n    } catch (err) {\n      console.warn('Error compiling template; using raw HTML', err)\n      setCompiledHtml(debouncedHtml)\n    }\n  }, [debouncedHtml, debouncedData, debouncedEngine])\n\n  return (\n    <div className='Preview'>\n      <div className='Preview-item'>\n        <div className='Preview-title'>Preview</div>\n\n        <Frame\n          className='Preview-frame'\n          head={\n            <>\n              <style type='text/css'>\n                {`\n* {\nbox-sizing: border-box;\n}\nbody, html, .frame-root, .frame-content, .frame-content > div {\n  height: 100%;\n  padding: 0;\n  margin: 0;\n}\n`}\n              </style>\n\n              <style type='text/css'>{css}</style>\n            </>\n          }\n        >\n          <InnerHTML html={compiledHtml} />\n        </Frame>\n      </div>\n    </div>\n  )\n}\n\nconst debouncedWriteStorage = debounce(\n  async (data, label) => {\n    writeStorage(label, data)\n  },\n  1000,\n  { maxWait: 5000 }\n)\n\nconst App = () => {\n  const [storedHtml] = useLocalStorage('html')\n  const [storedCss] = useLocalStorage('css')\n  const [storedData] = useLocalStorage('data')\n  const [storedEngine] = useLocalStorage('engine')\n\n  const [html, setHtml] = useState(storedHtml || htmlExample)\n  const [css, setCss] = useState(storedCss || cssExample)\n  const [data, setData] = useState(storedData || { title: 'Hello, World!' })\n  const [dataJson, setDataJson] = useState(JSON.stringify(data, null, 2))\n  const [engine, setEngine] = useState(storedEngine || 'handlebars')\n\n  const copyTemplate = useCallback(async () => {\n    return copy(render({ html, css, data, engine, compile: false })).then(\n      () => {\n        toast.info(`Copied ${engine} template to clipboard`)\n      }\n    )\n  }, [html, css, data, engine])\n\n  const copyOutput = useCallback(async () => {\n    return copy(render({ html, css, data, engine, compile: true })).then(() => {\n      toast.info('️Copied output to clipboard')\n    })\n  }, [html, css, data, engine])\n\n  useEffect(() => {\n    debouncedWriteStorage(html, 'html')\n  }, [html])\n\n  useEffect(() => {\n    debouncedWriteStorage(css, 'css')\n  }, [css])\n\n  useEffect(() => {\n    debouncedWriteStorage(data, 'data')\n  }, [data])\n\n  useEffect(() => {\n    debouncedWriteStorage(engine, 'engine')\n  }, [engine])\n\n  console.log(engine)\n  const currentEngine = engines.find((e) => e.value === engine)\n\n  return (\n    <div className='App'>\n      <header className='Header'>\n        <div className='Header-logo'>\n          <a\n            href='https://github.com/saasify-sh/template-editor'\n            target='_blank'\n            rel='noopener noreferrer'\n          >\n            <img src={logo} alt='Logo' />\n          </a>\n\n          <div className='Header-logoProduct'>Template Editor</div>\n        </div>\n\n        <div className='Header-actions'>\n          <div className='Header-action'>\n            <a\n              href='https://github.com/saasify-sh/template-editor'\n              target='_blank'\n              rel='noopener noreferrer'\n            >\n              GitHub\n            </a>\n          </div>\n\n          <div className='Header-action'>\n            <Button onClick={copyTemplate}>Copy Template</Button>\n          </div>\n\n          <div className='Header-action'>\n            <Button onClick={copyOutput}>Copy Output</Button>\n          </div>\n\n          <div className='Header-action'>\n            <Select\n              className='Header-engines'\n              name='Template Engine'\n              value={currentEngine}\n              onChange={(val) => setEngine(val.value)}\n              options={engines}\n            />\n          </div>\n        </div>\n      </header>\n\n      <ToastContainer\n        position='bottom-right'\n        autoClose={5000}\n        hideProgressBar\n        newestOnTop={false}\n        closeOnClick\n        pauseOnVisibilityChange\n        draggable\n        pauseOnHover\n      />\n\n      <main className='Main'>\n        <section style={{ height: '100%', position: 'relative', flexGrow: 1 }}>\n          <SplitPane defaultSize='66.7%' split='vertical'>\n            <SplitPane defaultSize='50%' split='vertical' primary='second'>\n              <Editor\n                label={currentEngine.label}\n                mode={engine}\n                onChange={setHtml}\n                value={html}\n              />\n\n              <Editor label='CSS' mode='css' onChange={setCss} value={css} />\n            </SplitPane>\n\n            <Editor\n              label='Data'\n              mode='json'\n              onChange={(val) => {\n                try {\n                  setData(JSON.parse(val))\n                  setDataJson(val)\n                } catch {\n                  console.warn('Error parsing JSON')\n                }\n              }}\n              value={dataJson}\n            />\n          </SplitPane>\n        </section>\n\n        <Preview html={html} css={css} data={data} engine={engine} />\n      </main>\n    </div>\n  )\n}\n\nexport default App\n","export default `<div class=\"body\">\n  <h1>{{title}}</h1>\n</div>\n`;\n","export default `.body {\n  align-items: center;\n  background-image: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.50) 100%), url(\"https://source.unsplash.com/WLUHO9A_xik\");\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-origin: center;\n  color: white;\n  display: flex;\n  font-family: Arial;\n  height: 100%;\n  flex-direction: column;\n  justify-content: center;\n}\n\nh1 {\n  font-size: 96px;\n  font-weight: 700;\n  margin: 0;\n}\n`;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport 'normalize.css'\nimport './index.css'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","module.exports = __webpack_public_path__ + \"static/media/logo.e148643a.svg\";"],"sourceRoot":""}